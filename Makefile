# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—Å–µ —Ü–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Ñ–∞–π–ª–∞–º–∏.
# –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã, –µ—Å–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º.
.PHONY: help run test lint docker-build docker-run docker-down

# "–ú–∞–≥–∏—á–µ—Å–∫–∞—è" –∫–æ–º–∞–Ω–¥–∞ help. –û–Ω–∞ –∏—â–µ—Ç –≤ —ç—Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ —Å—Ç—Ä–æ–∫–∏,
# —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ `##`, –∏ –∫—Ä–∞—Å–∏–≤–æ –∏—Ö –≤—ã–≤–æ–¥–∏—Ç.
help:
	@echo "‚ú® Available commands for FireWatch AI:"
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | sort | awk 'BEGIN {FS = ":.*?## "}; {printf "  \033[36m%-20s\033[0m %s\n", $$1, $$2}'  run: ## üöÄ Run the app locally for development (with auto-reload) 	uvicorn main:app --reload  test: ## ‚úÖ Run all tests using pytest 	pytest  lint: ## üé® Check code style with flake8 and black 	flake8 . 	black . --check  docker-build: ## üê≥ Build the Docker image for the application 	docker build -t firewatch-api .  docker-run: ## üö¢ Run the application using docker-compose 	docker-compose up  docker-down: ## üõë Stop and remove containers from docker-compose 	docker-compose down ```  ### ü§î –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?  1.  **`.DEFAULT_GOAL := help`**: –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç `make`, —á—Ç–æ –µ—Å–ª–∏ –µ–≥–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Ü–µ–ª–∏ (–ø—Ä–æ—Å—Ç–æ `make`), —Ç–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ü–µ–ª—å `help`. 2.  **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ `##`**: –ú—ã –¥–æ–±–∞–≤–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ü–µ–ª–∏. –§–æ—Ä–º–∞—Ç `## <–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã>` —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. 3.  **–ö–æ–º–∞–Ω–¥–∞ –≤ `help`**:     *   `grep -E '...' $(MAKEFILE_LIST)`: –ò—â–µ—Ç –≤–æ –≤—Å–µ—Ö `Makefile` (–æ–±—ã—á–Ω–æ –≤ –æ–¥–Ω–æ–º) —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ `–∫–æ–º–∞–Ω–¥–∞: ... ## –æ–ø–∏—Å–∞–Ω–∏–µ`.     *   `sort`: –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É.     *   `awk '...'`: –≠—Ç–æ —Å–∞–º—ã–π —Ö–∏—Ç—Ä—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –û–Ω —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥:         *   `BEGIN {FS = ":.*?## "}`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–æ–ª–µ–π ‚Äî —ç—Ç–æ –≤—Å—ë, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É –¥–≤–æ–µ—Ç–æ—á–∏–µ–º `:` –∏ `## `.         *   `{printf "  \033[36m%-20s\033[0m %s\n", $$1, $$2}`: –ü–µ—á–∞—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫—Ä–∞—Å–∏–≤–æ–º –≤–∏–¥–µ:             *   `\033[36m` ... `\033[0m`: –†–∞—Å–∫—Ä–∞—à–∏–≤–∞–µ—Ç –∏–º—è –∫–æ–º–∞–Ω–¥—ã –≤ –±–∏—Ä—é–∑–æ–≤—ã–π —Ü–≤–µ—Ç.             *   `%-20s`: –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏–º–µ–Ω–∞ –∫–æ–º–∞–Ω–¥ –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é —Å –æ—Ç—Å—Ç—É–ø–æ–º –≤ 20 —Å–∏–º–≤–æ–ª–æ–≤.             *   `$$1` ‚Äî —ç—Ç–æ –∏–º—è –∫–æ–º–∞–Ω–¥—ã, `$$2` ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.



# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
run:
	uvicorn --port 8099 main:app --reload

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
test:
	pytest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞
lint:
	flake8 .
	black . --check

# –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞
docker-build:
	docker build -t firewatch-api .

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ docker-compose
docker-run:
	docker-compose up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ docker-compose
docker-down:
	docker-compose down